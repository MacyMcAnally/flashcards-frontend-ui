(this["webpackJsonpflashcards-frontend-ui"]=this["webpackJsonpflashcards-frontend-ui"]||[]).push([[0],{34:function(e,t,a){},43:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),s=a.n(n),c=a(35),i=a.n(c),o=(a(43),a(6)),u={display:"block",background:"#E0FFFF",color:"#2F4F4F",textAlign:"center",padding:"10px 10px "},l=function(){var e=window.location.pathname,t="/ui"===e||"/ui/"===e||"/ui/Login"===e||"/ui/Login/"===e||"/ui/NewUser"===e||"/ui/NewUser/"===e,a="/ui/UserHome"===e||"/ui/UserHome/"===e||"/ui/ViewCards"===e||"/ui/ViewCards/"===e||"/ui/CreateTemp"===e||"/ui/CreateTemp/"===e||"/ui/CreateCards"===e||"/ui/CreateCards/"===e;return Object(r.jsxs)("header",{style:u,children:[Object(r.jsx)("h1",{children:"Flashcards!"}),t&&Object(r.jsxs)("nav",{children:[Object(r.jsx)(o.b,{exact:!0,to:"/ui",activeClassName:"selected",children:"Home"}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/Login",activeClassName:"selected",children:"Login"}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/NewUser",activeClassName:"selected",children:"Create User"})]}),a&&Object(r.jsxs)("nav",{children:[Object(r.jsx)(o.b,{exact:!0,to:"/ui/UserHome",activeClassName:"selected",children:"UserHome"}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/ViewCards",activeClassName:"selected",children:"View Cards"}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/CreateTemp",activeClassName:"selected",children:"Create Template"}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/CreateCards",activeClassName:"selected",children:"Create New Cards"})]})]})};var d={textAlign:"center",padding:"100px"},j=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsx)("p",{style:d,children:"This is a Intro for this page and why you should use it!................................................................. ............................................ ......................................................... ........................................................ ....................................................... ........................................................."})]})},p=a(12),h=a(10),b=a(2),x=a.n(b),O=a(5),m=a(16),f=a(13),g=a.n(f),v=a(37),C=a(15),w=a.n(C),y=void 0;function k(){return T.apply(this,arguments)}function T(){return(T=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.a.get("jwt"),y&&t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,w.a.get(H("/cards?userId="+y.id),{headers:{Authorization:"Bearer "+t}});case 5:return a=e.sent,e.abrupt("return",a.data.success);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return N.apply(this,arguments)}function N(){return(N=Object(O.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.a.get("jwt"),y&&r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,w.a.post(H("/cards"),{templateID:t,data:a},{headers:{Authorization:"Bearer "+r}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return U.apply(this,arguments)}function U(){return(U=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.a.get("jwt"),y&&t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,w.a.get(H("/card_templates?userId="+y.id),{headers:{Authorization:"Bearer "+t}});case 5:return a=e.sent,e.abrupt("return",a.data.success);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,a){return D.apply(this,arguments)}function D(){return(D=Object(O.a)(x.a.mark((function e(t,a,r){var n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.a.get("jwt"),y&&n){e.next=3;break}return e.abrupt("return");case 3:return s={userID:y.id,description:t,front:a,back:r},e.next=6,w.a.post(H("/card_templates"),s,{headers:{Authorization:"Bearer "+n}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return"http://18.221.157.116:8080/api".concat(e)}function L(e,t){return A.apply(this,arguments)}function A(){return(A=Object(O.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post(H("/login"),{username:t,password:a});case 2:P(e.sent.data.success);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=JSON.parse(Object(v.a)(e).auth);y={id:t.userID,admin:t.admin},console.log("signed in with user "+JSON.stringify(y)),g.a.set("jwt",e)}function B(e,t){return E.apply(this,arguments)}function E(){return(E=Object(O.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post(H("/users"),{username:t,password:a});case 2:r=e.sent,console.log(r.data.success);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g.a.get("jwt")&&P(g.a.get("jwt"));var z=a(3);var J={background:"#00BFFF",display:"inline-block",fontSize:"18px",padding:"10px 20px",border:"none",cursor:"pointer",margin:"20px"},M=function(){var e=Object(z.f)(),t=Object(n.useState)({username:"",password:""}),a=Object(m.a)(t,2),s=a[0],c=a[1],i=function(){var t=Object(O.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,L(s.username,s.password);case 4:e.push("/ui/UserHome"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.push("/ui/UserError");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),o=function(e){c(Object(h.a)(Object(h.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsxs)("form",{onSubmit:i,children:[Object(r.jsx)("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:o}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"password",placeholder:"Password",value:s.password,onChange:o}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{style:J,children:"Login"})]}),Object(r.jsx)("br",{})]})]})};var V={margin:"20px"},_=function(){var e=Object(z.f)(),t=Object(n.useState)({username:"",password:""}),a=Object(m.a)(t,2),s=a[0],c=a[1],i=function(){var t=Object(O.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,B(s.username,s.password);case 4:e.push("/ui/Login"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),console.log("nope");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),o=function(e){c(Object(h.a)(Object(h.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"Create a New User"}),Object(r.jsxs)("form",{onSubmit:i,children:[Object(r.jsx)("p",{children:"Please enter your Username"}),Object(r.jsx)("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:o}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"Please enter your Password"}),Object(r.jsx)("input",{type:"text",name:"password",placeholder:"Password",value:s.password,onChange:o}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{style:V,children:"Create User"})]})]})]})};var R=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsx)("h1",{children:"Welcome to User Homepage!"}),Object(r.jsx)("br",{}),Object(r.jsx)("h2",{children:"Hello User! Please enjoy creating a new flashcard/ reviewing them!"})]})};var W=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"404 User not found, please try again or create a new user"}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/Login",activeClassName:"selected",children:"Login"}),Object(r.jsx)("span",{children:" / "}),Object(r.jsx)(o.b,{exact:!0,to:"/ui/NewUser",activeClassName:"selected",children:"Create New User"})]})]})},Z=a(18),q=a(19),G=a(21),K=a(20);a(34);var Q=function(e){var t=e.html;return Object(r.jsx)("div",{className:"card-component",dangerouslySetInnerHTML:{__html:t}})},X=function(e){Object(G.a)(a,e);var t=Object(K.a)(a);function a(e){var r;return Object(Z.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.getAllCards()},r.getAllCards=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return t=e.sent,e.next=5,S();case 5:a=e.sent,r.setState({allCards:t,templates:a});case 7:case"end":return e.stop()}}),e)}))),r.goToNextCard=function(e){var t=r.state.cardIndex+1>=r.state.allCards.length?0:r.state.cardIndex+1;r.setState({cardIndex:t})},r.goToPreviousCard=function(e){var t=r.state.cardIndex-1<0?r.state.allCards.length-1:r.state.cardIndex-1;r.setState({cardIndex:t})},r.flipCard=function(e){r.setState({onFront:!r.state.onFront})},r.state={cardIndex:0,onFront:!0,allCards:[],templates:[]},r}return Object(q.a)(a,[{key:"getTemplate",value:function(){for(var e=0;e<this.state.templates.length;e++){var t=this.state.templates[e];if(t.id==this.state.allCards[this.state.cardIndex].templateID)return t}}},{key:"getCardData",value:function(){return JSON.parse(this.state.allCards[this.state.cardIndex].data)}},{key:"displayCard",value:function(){for(var e=this.getTemplate(),t=this.state.onFront?e.front:e.back,a=this.getCardData(),r=Object.keys(a),n=0;n<r.length;n++){var s=r[n],c=a[s],i="%%".concat(s,"%%");t=t.replace(new RegExp(i,"g"),c||i)}return t}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"This is the ViewCards page"}),Object(r.jsxs)("span",{style:{paddingRight:8},children:["Card #",this.state.cardIndex+1]}),Object(r.jsx)("button",{onClick:this.flipCard,children:"Flip"}),Object(r.jsx)("button",{onClick:this.goToPreviousCard,children:"Previous"}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)("button",{onClick:this.goToNextCard,children:"Next"}),this.state.allCards.length&&Object(r.jsx)(Q,{style:{display:"center"},html:this.displayCard()})]})]})}}]),a}(n.Component),Y=function(e){Object(G.a)(a,e);var t=Object(K.a)(a);function a(e){var r;return Object(Z.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.fetchTemplates()},r.fetchTemplates=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,r.setState({templates:t});case 4:case"end":return e.stop()}}),e)}))),r.onTemplateChange=function(e){for(var t=Number(e.target.value),a=r.getFields(r.state.templates[t]),n={},s=0;s<a.length;s++){var c=a[s];n[c]=r.state.cardData[c]}r.setState({cardData:n,chosenTemplate:t})},r.handleChange=function(e){r.setState({cardData:Object(h.a)(Object(h.a)({},r.state.cardData),{},Object(p.a)({},e.target.name,e.target.value))})},r.createANewCard=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(r.state.cardData),n=r.state.templates[r.state.chosenTemplate],e.next=4,F(n.id,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={chosenTemplate:0,templates:[],cardData:{}},r}return Object(q.a)(a,[{key:"getCardFrontHtml",value:function(){var e=this.state.templates[this.state.chosenTemplate];return e?this.getCardSideHtml(e.front):""}},{key:"getCardBackHtml",value:function(){var e=this.state.templates[this.state.chosenTemplate];return e?this.getCardSideHtml(e.back):""}},{key:"getCardSideHtml",value:function(e){for(var t=Object.keys(this.state.cardData),a=0;a<t.length;a++){var r=t[a],n=this.state.cardData[r],s="%%".concat(r,"%%");e=e.replace(new RegExp(s,"g"),n||s)}return e}},{key:"getFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.templates[this.state.chosenTemplate];if(!e)return[];var t={};return(e.front+e.back).match(new RegExp("%%([a-zA-Z_ 0-9]+)%%","g")).forEach((function(e){var a=e.substring(2,e.length-2);t[a]=!0})),Object.keys(t)}},{key:"render",value:function(){var e=this,t=this.getFields();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"This is CreateCards Page!"}),this.state.templates.length>0?Object(r.jsx)("select",{name:"cardTemplate",value:this.state.chosenTemplate,onChange:this.onTemplateChange,children:this.state.templates.map((function(e,t){return Object(r.jsx)("option",{value:t,children:e.description},t)}))}):Object(r.jsx)("span",{children:"make a template!"}),Object(r.jsx)("br",{}),t.map((function(t,a){return Object(r.jsx)("input",{name:t,value:e.state.cardData[t]||"",placeholder:t,onChange:e.handleChange},a)})),Object(r.jsx)("button",{onClick:this.createANewCard,children:"Create"}),Object(r.jsx)(Q,{html:this.getCardFrontHtml()}),Object(r.jsx)(Q,{html:this.getCardBackHtml()})]})]})}}]),a}(s.a.Component);var $=function(){var e=Object(n.useState)({description:"",front:"<div>what is the capital of %%STATE%% ?</div>",back:"<div>%%STATE_CAPITOL%%</div>"}),t=Object(m.a)(e,2),a=t[0],s=t[1],c=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I(a.description,a.front,a.back);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),i=function(e){s(Object(h.a)(Object(h.a)({},a),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsx)("h1",{children:"Welcome to User CreateCardTemp!"}),Object(r.jsxs)("form",{onSubmit:c,children:[Object(r.jsx)("p",{children:"Please eneter a descrption for this card template"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"description",value:a.description,onChange:i}),Object(r.jsx)("textarea",{id:"Input HTML-F",name:"front",rows:"10",cols:"80",value:a.front,onChange:i}),Object(r.jsx)("span",{children:" "}),Object(r.jsx)("textarea",{id:"Input HTML-B",name:"back",rows:"10",cols:"80",value:a.back,onChange:i}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",value:"Submit"}),Object(r.jsx)(Q,{html:a.front}),Object(r.jsx)("br",{}),Object(r.jsx)(Q,{html:a.back})]})]})};var ee=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(o.a,{children:Object(r.jsxs)(z.c,{children:[Object(r.jsx)(z.a,{exact:!0,path:"/ui",component:j}),Object(r.jsx)(M,{exact:!0,path:"/ui/Login",component:M}),Object(r.jsx)(_,{exact:!0,path:"/ui/NewUser",component:_}),Object(r.jsx)(W,{exact:!0,path:"/ui/UserError",component:W}),Object(r.jsx)(R,{exact:!0,path:"/ui/UserHome",component:R}),Object(r.jsx)(X,{exact:!0,path:"/ui/ViewCards",component:X}),Object(r.jsx)($,{exact:!0,path:"/ui/CreateTemp",component:$}),Object(r.jsx)(Y,{exact:!0,path:"/ui/CreateCards",component:Y})]})})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(ee,{})}),document.getElementById("root")),te()}},[[70,1,2]]]);
//# sourceMappingURL=main.eaddd597.chunk.js.map